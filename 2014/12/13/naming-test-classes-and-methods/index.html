<!DOCTYPE html> <!--[if IE 8]> <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9]> <html lang="en" class="ie9"> <![endif]--> <!--[if !IE]><!--> <html lang="en"> <!--<![endif]--> <head> <title>Naming Test Classes and Methods | Codurance </title> <!-- Meta --> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="Our team of dedicated software craftsmen provides consultancy, software development, and training services to clients seeking high quality development processes and software solutions."> <meta name="author" content="Codurance Ltd"> <!-- Open Graph tags - Used when publishing on Facebook --> <meta property="og:site_name" content="Codurance"/> <meta property="og:description" content="Our team of dedicated software craftsmen provides consultancy, software development, and training services to clients seeking high quality development processes and software solutions."/> <meta property="og:url" content="http://codurance.com"/> <meta property="og:image" content="http://codurance.com/assets/img/codurance.png"/> <!-- Favicon --> <link rel="shortcut icon" href="/assets/img/favicon.ico"> <!-- CSS Global Compulsory --> <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"> <link rel="stylesheet" href="/assets/css/style.css"> <!-- CSS Implementing Plugins --> <link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"> <link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.min.css"> <link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"> <!-- CSS Theme --> <link rel="stylesheet" href="/assets/css/plugins.css"> <link rel="stylesheet" href="/assets/css/app.css"> <link rel="stylesheet" href="/assets/css/pages/blog.css"> <link rel="stylesheet" href="/assets/css/theme-colors/orange.css" id="style_color"> <!-- CSS Customization --> <link rel="stylesheet" href="/assets/css/custom.css"> <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/idea.min.css"> <!--fonts --> <link href='http://fonts.googleapis.com/css?family=Oxygen:700,400' rel='stylesheet' type='text/css'> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-46289079-1', 'codurance.com'); ga('send', 'pageview'); </script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad();</script> <!-- ShareThis --> <script type="text/javascript">var switchTo5x=true;</script> <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script> <script type="text/javascript" src="http://s.sharethis.com/loader.js"></script> </head> <body> <div class="wrapper"> <!--=== Header ===--> <div class="header-v3 header-sticky"> <!-- Navbar --> <div class="navbar navbar-default" role="navigation"> <div class="container"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse"> <span class="sr-only">Toggle navigation</span> <span class="fa fa-bars"></span> </button> <a class="navbar-brand" href="/"> <img id="logo-header" src="/assets/img/codurance.png" height="45px;" alt="Logo"> </a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse navbar-responsive-collapse"> <ul class="nav navbar-nav"> <li><a href="/services">Services</a></li> <li><a href="/videos">Videos</a></li> <li><a href="/blog">Blog</a></li> <li><a href="/work-with-us">Work with us</a></li> <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown">About Us <i class="icon-angle-down">&nbsp;</i></a><ul class="dropdown-menu"> <li><a href="/aboutus/ourteam">Our Team</a></li> <li><a href="/aboutus/ourcompany">Our Company</a></li> <li><a href="/aboutus/ourpractices">Our Practices</a></li> <li><a href="/aboutus/contact">Contact</a></li> </ul></li> </ul> </div><!--/navbar-collapse--> </div> </div> <!-- End Navbar --> </div> <!--=== End Header ===--> <!--=== End Header ===--> <div class="breadcrumbs"> <div class="container"> <h1 class="pull-left"></h1> <ul class="pull-right breadcrumb"> <li><a href="/">Home</a></li> <li> <a href="/blog">Blog</a> </li> </ul> </div> </div> <div class="container content"> <div class="row blog-page blog-item"> <!-- Left Sidebar --> <div class="col-md-9 md-margin-bottom-60"> <!--Blog Post--> <div class="blog margin-bottom-40"> <h2>Naming Test Classes and Methods</h2> <div class="blog-post-tags"> <ul class="list-unstyled list-inline blog-info"> <li><i class="fa fa-calendar"></i> 13 Dec 2014</li> <li><i class="fa fa-pencil"></i> Sandro Mancuso</li> </ul> <ul class="list-unstyled list-inline blog-tags"> <li> <a href="/blog/tag/craftsmanship/"><i class="fa fa-tags"></i> craftsmanship </a> <a href="/blog/tag/tdd/"><i class="fa fa-tags"></i> tdd </a> <a href="/blog/tag/test-driven-development/"><i class="fa fa-tags"></i> test-driven-development </a> <a href="/blog/tag/naming/"><i class="fa fa-tags"></i> naming </a> <a href="/blog/tag/unit-test/"><i class="fa fa-tags"></i> unit-test </a> </li> </ul> </div> <p>What should my first test be? What should I test next? These are common questions that I'm asked over and over again. I quite often ask these questions myself. Deciding on what to test is hard. Deciding on the order that things should be tested is even harder.<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> But writing tests first is not the only problem. How often did we get frustrated while dealing with existing tests which we had no idea what they are testing?</p> <p>Over the years I met and paired with a lot of experienced TDD practicioners and each one of them have a slightly different way to decide which tests to write and in which order. They also have different approaches to actually write their tests. Some write the name of the test method first. Others don't bother with the name of the test method; they only appropriately name it after they write the test code. Some prefer a more exploratory approach, making a mess at the beginning, and only refactor when they have a better understanding of the problem and enough code in front of them. Others prefer a more structured approach, doing a little bit more thinking and "just-in-time design" before they write their tests. Some start typing straight away and wait to see what the code will look like before making any naming and design assumptions. Some use a more <em>classicist</em> approach by default. Others prefer a more <em>mockist outside-in</em> approach. And to make things more confusing, experienced TDD practicioners mix-and-match styles and approaches according to what they are trying to test.</p> <p>In this post I'll try to describe how I generally think about my tests. Due to the nature of the projects I'm noramlly involved with<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> I tend to think and design (in my head) a little bit more before I start typing. Outside-In TDD is normally my default mode when writing tests. My main focus when writing tests is to clearly express the behaviour I want the application (or class) to have.</p> <p>This is the template I normally use to help me decide what to test and how to name my test methods according to the expected behaviour:</p> <p><img src="/assets/img/custom/blog/2014_12_12/class_and_method_name_template.jpg" alt="" /></p> <p>This approach forces me to think about the behaviour I want my class to have, making it easier to write my first and subsequent tests. Even at a unit test level, I try my best to name my test methods in a way that a business person could understand, rarely using any technical language. Here are a few examples:</p> <p><img src="/assets/img/custom/blog/2014_12_12/class_methods_example.jpg" alt="" /></p> <p>Trying to form a sentence combining the name of the test class and the name of the test method forces me to really focus on the behaviour I want to test. Once I figure that out, it becomes quite easy to write my assertion since I just need to translate English to the programming language I'm using.</p> <p>One thing to notice is that I normally split the body of my tests into 3 blocks (given, when, then). However, in some tests I call the method under test from the assertion and some tests don't need any setup. Many tests are quite simple and have only one line.</p> <p>And here are the 5 steps I normally follow when creating a new test class:</p> <p><img src="/assets/img/custom/blog/2014_12_12/test_in_5_steps.jpg" alt="" /></p> <p>For subsequent test methods I iterate through steps 2 to 5. The skeleton of the production code is generated from the test class.</p> <h4>Why do I use "should"?</h4> <p>Many developers don't like the use of the word "should". Some say that it is redundant and should not be used. Others say that it is not strong enough. "Must" is too strong. What about "have to"? I'm still not sure about it. For now, I'll stick with "should" but I may give "have to" a try. Since I only use it on the class name, I don't really think it is a big deal and it helps me to construct a phrase when combining with the name of the test methods.</p> <h3>Bad names</h3> <p>Here are some common names I've seen given to the variable that points to the class under test:</p><pre><code>BankAccount testee = new BankAccount();
BankAccount sut = new BankAccount();
BankAccount ba = new BankAccount();
</code></pre><p><strong> If it is a bank account, name the variable bankAccount.</strong></p> <p>And for methods, here are some</p><pre><code>test_deposit_works() {…}             // what does 'works' mean?
test_deposit_works_correctly() {…}   // should it ever work incorrectly?
test_deposit() {…}                   // what exactly is it testing?
check_balance_after_deposit() {…}    // what is it checking? 
</code></pre><p>A test name should clearly indicate why a test should pass or fail, that means, I should not need to look at the assertion(s) to figure out what the test is actually testing.</p><pre><code>[BankAccountShould] have_balance_increased_after_a_deposit()
</code></pre><p>If the test above fails I'll have a fairly good idea why it failed.</p> <h3>Considerations</h3> <p>I don't really follow rules and quite often I do things in a different way. It all depends on what I'm doing and the context I'm in. Some projects already have a standard way of writing unit tests and if I'm a new joiner, I'll comply to it. Having a standard is a good thing. It avoids confusion and (bad) surprises, regardless if the "standard" is good or not. What I described above is how I normally name and think about my tests, and it is the standard I often put in place when I start a new project. This is also how I'm teaching our apprentices at Codurance.</p> <div class="footnotes"> <hr/> <ol> <li id="fn:1"> <p>Ideally we would choose a sequence of small steps (tests) that could help us to gradually add functionality to our system and evolve our design.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li> <li id="fn:2"> <p>Most of my work is done on bespoke business applications with a complex domain. I also normally work in projects where we constantly interact with product owners and business experts. All projects that I get involved are run using Agile methodologies. The approach I described works well for me because I normally write code according to well-defined user stories and acceptance criteria, which gives me a fairly good idea of what needs to be done before I start coding. It may not work so well if you do more exploratory work. I normally flip to a more <em>classicist</em> approach when I&rsquo;m exploring.<a href="#fnref:2" rev="footnote">&#8617;</a></p></li> </ol> </div> </div> <!--End Blog Post--> <!--About the author--> <div class = "margin-bottom-40"> <div class="headline headline-md"> <h2>About the author</h2> </div> <div class="row"> <div class="col-sm-3 pull-left"> <img class="img-responsive" src="/assets/img/custom/team/sandro_mancuso.jpg"> </div> <div class="col-sm-9"> <h3>Sandro Mancuso</h3> <p><p>Software craftsman, <a href="http://leanpub.com/socra">author</a>, and founder of the <a href="http://londonswcraft.com">London Software Craftsmanship Community (LSCC)</a>. Sandro has been coding since a very young age but only started his professional career in 1996. He has worked for startups, software houses, product companies, international consultancy companies, and investment banks. </p><p>During his career Sandro had the opportunity to work in a good variety of projects, with different languages, technologies, and across many different industries. Sandro has a lot of experience in bringing the Software Craftsmanship ideology and Extreme Programming practices to organisations of all sizes. Sandro is internationally renowned by his work on evolving and spreading Software Craftsmanship and is frequently invited to speak in many conferences around the world. His professional aspiration is to raise the bar of the software industry by helping developers become better at and care more about their craft.</p></p> <p> <em> <a target="_blank" href="https://twitter.com/intent/tweet?text=.%20@sandromancuso%20Type%20your%20text%20here&url=http://codurance.com/2014/12/13/naming-test-classes-and-methods/&via=codurance"> Discuss this article with Sandro Mancuso on Twitter! </a> </em> </p> </div> </div> </div> <!--End About the author--> </div> <!-- End Left Sidebar --> <!-- Right Sidebar --> <div class="col-md-3"> <!--Related Blog Posts--> <div class="posts margin-bottom-40"> <div class="headline headline-md"> <h2>Related Blogs</h2> </div> <dl class="dl-horizontal"> <dt> <a href="/2014/12/14/quality-cannot-be-measured/"><img src="/assets/img/custom/blog/2014_12_12/you_are_going_to_call_me_what.jpg" alt=""></a> } </dt> <dd> <p><a href="/2014/12/14/quality-cannot-be-measured/">Code quality cannot be measured</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/2015/05/12/does-tdd-lead-to-good-design/"><img src="/assets/img/custom/blog/2015_05_12_does_tdd_lead_to_good_design.jpg" alt=""></a> } </dt> <dd> <p><a href="/2015/05/12/does-tdd-lead-to-good-design/">Does TDD really lead to good design?</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/2014/05/24/tdd-is-not-about-you/"><img src="/assets/img/custom/blog/tdd_is_not_about_you.gif" alt=""></a> } </dt> <dd> <p><a href="/2014/05/24/tdd-is-not-about-you/">TDD is NOT (just) about you</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/2014/04/13/explanatory-methods/"><img src="/assets/img/custom/blog/explanatory_methods.png" alt=""></a> } </dt> <dd> <p><a href="/2014/04/13/explanatory-methods/">Screencast - Explanatory Methods</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/2013/08/23/test-deafness/"><img src="/assets/img/custom/blog/test-deafness.jpg" alt=""></a> } </dt> <dd> <p><a href="/2013/08/23/test-deafness/">Test Deafness</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/development/2011/10/18/the-legacy-of-misplaced-testing/"><img src="http://mashb.files.wordpress.com/2011/10/complex.gif" alt=""></a> } </dt> <dd> <p><a href="/development/2011/10/18/the-legacy-of-misplaced-testing/">The legacy of misplaced Testing</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt> <a href="/development/2010/05/27/naming-your-unit-tests/"><img src="/assets/img/defaultBlogImg.png" alt=""></a> } </dt> <dd> <p><a href="/development/2010/05/27/naming-your-unit-tests/">Naming your Unit Tests</a></p> </dd> </dl> <!--End Related Blog Posts--> </div> <!-- Recent blogs --> <div class="posts margin-bottom-40"> <div class="headline headline-md"><h2>Recent Blogs</h2></div> <dl class="dl-horizontal"> <dt><a href="/2015/12/13/testing-multithreaded-code-in-java/"><img src="/assets/img/custom/blog/picot.png" alt=""></a></dt> <dd> <p><a href="/2015/12/13/testing-multithreaded-code-in-java/">Testing multithreaded code in Java</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/25/mouseless-programming/"><img src="/assets/img/custom/blog/dilbert.jpg" alt=""></a></dt> <dd> <p><a href="/2015/11/25/mouseless-programming/">Mouseless Programming</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/25/Property-based-testing-FsCheck-Resharper-NCrunch-Visual-Studio-2013/"><img src="/assets/img/custom/blog/2015-12-01-Faran-crane-truck.jpg" alt=""></a></dt> <dd> <p><a href="/2015/11/25/Property-based-testing-FsCheck-Resharper-NCrunch-Visual-Studio-2013/">Property based testing with FsCheck, Resharper and NCrunch in Visual Studio 2013</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/22/changing-scalatra-and-sbt-directories/"><img src="/assets/img/custom/blog/2015-11-21-folders-small.jpg" alt=""></a></dt> <dd> <p><a href="/2015/11/22/changing-scalatra-and-sbt-directories/">Changing Scalatra and sbt default directories</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/22/my-first-couple-of-months-at-codurance/"><img src="/assets/img/custom/blog/Five Characteristics of a Great Company Culture.jpg" alt=""></a></dt> <dd> <p><a href="/2015/11/22/my-first-couple-of-months-at-codurance/">My first couple of months at Codurance</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/19/configuring-an-enterprise-app-sucks/"><img src="/assets/img/custom/blog/2015-11-19-configuring-an-enterprise-app-sucks/space-shuttle.jpg" alt=""></a></dt> <dd> <p><a href="/2015/11/19/configuring-an-enterprise-app-sucks/">Configuring an enterprise app sucks</a></p> </dd> </dl> <dl class="dl-horizontal"> <dt><a href="/2015/11/16/tips-for-a-friendly-open-source-experience/"><img src="/assets/img/custom/blog/friendly.png" alt=""></a></dt> <dd> <p><a href="/2015/11/16/tips-for-a-friendly-open-source-experience/">Tips for a friendly open source experience</a></p> </dd> </dl> <!-- End Recent blogs --> </div> <!-- End Right Sidebar --> </div> <!--/row--> </div> <!--/container--> </div> <!-- Sharethis toolbar. Note this will not work in a local environment --> <script type="text/javascript">stLight.options({publisher: "8b795ed1-9577-43d1-9e4e-55c54306336b", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script> <script> var options={ "publisher": "8b795ed1-9577-43d1-9e4e-55c54306336b", "position": "left", "ad": { "visible": false, "openDelay": 5, "closeDelay": 0}, "chicklets": { "items": ["twitter", "linkedin", "googleplus", "facebook", "email"]}}; var st_hover_widget = new sharethis.widgets.hoverbuttons(options); </script> <!-- End Sharethis toolbar --> <!--=== Copyright ===--> <!--=== Footer ===--> <div class="footer-v1"> <div class="footer"> <div class="container"> <div class="row"> <!-- About --> <div class="col-md-3 md-margin-bottom-40"> <a href="/"> <img id="logo-footer" class="footer-logo" src="/assets/img/footer-logo.png" alt="Codurance"> </a> <p>Software is our passion. </p> <p>We are software craftsmen. We build well-crafted software for our customers, we help developers to get better at their craft through training, coaching and mentoring, and we help companies get better at delivering software. </p> </div><!--/col-md-3--> <!-- End About --> <!-- Latest --> <div class="col-md-3 md-margin-bottom-40"> <div class="posts"> <div class="headline"><h2>Latest Blogs</h2></div> <ul class="list-unstyled latest-list"> <li> <a href="/2015/12/13/testing-multithreaded-code-in-java/" alt="Testing multithreaded code in Java">Testing multithreaded code in Java...</a> <small><a class='author' href='/blog/author/felipe-fernández/'>Felipe Fernández</a></small> </li> <li> <a href="/2015/11/25/mouseless-programming/" alt="Mouseless Programming">Mouseless Programming</a> <small><a class='author' href='/blog/author/tomaz-tekavec/'>Tomaz Tekavec</a></small> </li> <li> <a href="/2015/11/25/Property-based-testing-FsCheck-Resharper-NCrunch-Visual-Studio-2013/" alt="Property based testing with FsCheck, Resharper and NCrunch in Visual Studio 2013">Property based testing with FsCheck,...</a> <small><a class='author' href='/blog/author/alessandro-di gioia/'>Alessandro Di Gioia</a></small> </li> </ul> </div> </div><!--/col-md-3--> <!-- End Latest --> <!-- Link List --> <div class="col-md-3 md-margin-bottom-40"> <div class="headline"><h2>Useful Links</h2></div> <ul class="list-unstyled link-list"> <li><a href="/services">Services</a><i class="fa fa-angle-right"></i></li> <li><a href="/videos">Videos</a><i class="fa fa-angle-right"></i></li> <li><a href="/blog">Blog</a><i class="fa fa-angle-right"></i></li> <li><a href="/work-with-us">Work with us</a><i class="fa fa-angle-right"></i></li> <li><a href="/aboutus/ourcompany">About us</a><i class="fa fa-angle-right"></i></li> </ul> </div><!--/col-md-3--> <!-- End Link List --> <!-- Contact Us --> <div class="col-md-3 map-img md-margin-bottom-40"> <div class="headline"><h2>Contact Us</h2></div> <address class="md-margin-bottom-40"> <a href="https://www.google.co.uk/maps/place/I2+Office+Aldersgate/@51.5175798,-0.0978509,19z/data=!4m2!3m1!1s0x0000000000000000:0x71133b028b4f269d" target="_blank">200 Aldersgate, EC1A 4HD<br> London, UK </a><br> Phone: +44 203 440 4015 <br> Email: <a href="mailto:hello@codurance.com" target="_blank" class="">hello@codurance.com</a> </address> </div><!--/col-md-3--> <!-- End Contact Us --> </div> </div> </div><!--/footer--> <div class="copyright"> <div class="container"> <div class="row"> <div class="col-md-6"> <p> Company Registration No: 8712584 </p> </div> <!-- Social Links --> <div class="col-md-6"> <ul class="footer-socials list-inline"> <li> <a href="https://www.facebook.com/codurance/" class="tooltips" data-toggle="tooltip" data-placement="top" title="" data-original-title="Facebook" target="_blank"> <i class="fa fa-facebook"></i> </a> </li> <li> <a href="https://www.linkedin.com/company/codurance" class="tooltips" data-toggle="tooltip" data-placement="top" title="" data-original-title="Linkedin" target="_blank"> <i class="fa fa-linkedin"></i> </a> </li> <li> <a href="https://twitter.com/codurance" class="tooltips" data-toggle="tooltip" data-placement="top" title="" data-original-title="Twitter" target="_blank"> <i class="fa fa-twitter"></i> </a> </li> <li> <a href="/atom.xml" data-original-title="Feed" class="tooltips" data-toggle="tooltip" data-placement="top" title="" target="_blank"> <i class="fa fa-rss"></i> </a> </li> </ul> </div> <!-- End Social Links --> </div> </div> </div><!--/copyright--> </div> <!--=== End Footer ===--> <!--=== End Copyright ===--> </div> <!-- JS Global Compulsory --> <script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script> <script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script> <script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script> <script type="text/javascript" src="/assets/plugins/back-to-top.js"></script> <!-- JS Implementing Plugins --> <script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script> <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script> <script type="text/javascript" src="/assets/plugins/gmap/gmap.js"></script> <!-- JS Customization --> <script type="text/javascript" src="/assets/js/custom.js"></script> <!-- JS Page Level --> <script type="text/javascript" src="/assets/js/app.js"></script> <script type="text/javascript" src="/assets/js/pages/index.js"></script> <script type="text/javascript"> jQuery(document).ready(function() { App.init(); Index.initOwlCarousel(); Contact.initMap(); }); </script> <!--[if lt IE 9]> <script src="/assets/plugins/respond.js"></script> <script src="/assets/plugins/html5shiv.js"></script> <script src="/assets/js/plugins/placeholder-IE-fixes.js"></script> <![endif]--> </body> </html>
